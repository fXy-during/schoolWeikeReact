webpackJsonp([1],{753:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(946),a=o(r),c=t(949),l=o(c),i=t(950),u=o(i);n.default=[{path:"loginIn",component:a.default},{path:"register",component:l.default},{path:"changePW",component:u.default}]},754:function(e,n,t){e.exports={default:t(775),__esModule:!0}},757:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(37),a=o(r),c=t(14),l=o(c),i=t(7),u=o(i),f=t(10),d=o(f),s=t(8),p=o(s),h=t(9),b=o(h),m=t(2),v=o(m),g=t(6),E=o(g),y=t(766),C=o(y),w=t(24),_=o(w),k=t(760),x=o(k),P=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&(t[o[r]]=e[o[r]]);return t},O=function(e){function n(){return(0,u.default)(this,n),(0,p.default)(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return(0,b.default)(n,e),(0,d.default)(n,[{key:"shouldComponentUpdate",value:function(e,n,t){return!(0,x.default)(this.props,e)||!(0,x.default)(this.state,n)||!(0,x.default)(this.context.radioGroup,t.radioGroup)}},{key:"render",value:function(){var e,n=this.props,t=this.context,o=n.prefixCls,r=n.className,c=n.children,i=n.style,u=P(n,["prefixCls","className","children","style"]),f=t.radioGroup,d=(0,l.default)({},u);f&&(d.onChange=f.onChange,d.checked=n.value===f.value,d.disabled=n.disabled||f.disabled);var s=(0,_.default)(r,(e={},(0,a.default)(e,o+"-wrapper",!0),(0,a.default)(e,o+"-wrapper-checked",d.checked),(0,a.default)(e,o+"-wrapper-disabled",d.disabled),e));return v.default.createElement("label",{className:s,style:i,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave},v.default.createElement(C.default,(0,l.default)({},d,{prefixCls:o})),void 0!==c?v.default.createElement("span",null,c):null)}}]),n}(v.default.Component);n.default=O,O.defaultProps={prefixCls:"ant-radio",type:"radio"},O.contextTypes={radioGroup:E.default.any},e.exports=n.default},759:function(e,n,t){var o=t(947);"string"==typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;t(750)(o,r);o.locals&&(e.exports=o.locals)},760:function(e,n){e.exports=function(e,n,t,o){var r=t?t.call(o,e,n):void 0;if(void 0!==r)return!!r;if(e===n)return!0;if("object"!=typeof e||!e||"object"!=typeof n||!n)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),i=0;i<a.length;i++){var u=a[i];if(!l(u))return!1;var f=e[u],d=n[u];if(!1===(r=t?t.call(o,f,d,u):void 0)||void 0===r&&f!==d)return!1}return!0}},765:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Group=n.Button=void 0;var r=t(757),a=o(r),c=t(772),l=o(c),i=t(773),u=o(i);a.default.Button=u.default,a.default.Group=l.default,n.Button=u.default,n.Group=l.default,n.default=a.default},766:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(767);t.d(n,"default",function(){return o.a})},767:function(e,n,t){"use strict";var o=t(14),r=t.n(o),a=t(37),c=t.n(a),l=t(215),i=t.n(l),u=t(7),f=t.n(u),d=t(10),s=t.n(d),p=t(8),h=t.n(p),b=t(9),m=t.n(b),v=t(2),g=t.n(v),E=t(6),y=t.n(E),C=t(768),w=t.n(C),_=t(24),k=t.n(_),x=function(e){function n(e){f()(this,n);var t=h()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));P.call(t);var o="checked"in e?e.checked:e.defaultChecked;return t.state={checked:o},t}return m()(n,e),s()(n,[{key:"componentWillReceiveProps",value:function(e){"checked"in e&&this.setState({checked:e.checked})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return w.a.shouldComponentUpdate.apply(this,n)}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,o=n.className,a=n.style,l=n.name,u=n.type,f=n.disabled,d=n.readOnly,s=n.tabIndex,p=n.onClick,h=n.onFocus,b=n.onBlur,m=i()(n,["prefixCls","className","style","name","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur"]),v=Object.keys(m).reduce(function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=m[n]),e},{}),E=this.state.checked,y=k()(t,o,(e={},c()(e,t+"-checked",E),c()(e,t+"-disabled",f),e));return g.a.createElement("span",{className:y,style:a},g.a.createElement("input",r()({name:l,type:u,readOnly:d,disabled:f,tabIndex:s,className:t+"-input",checked:!!E,onClick:p,onFocus:h,onBlur:b,onChange:this.handleChange},v)),g.a.createElement("span",{className:t+"-inner"}))}}]),n}(g.a.Component);x.propTypes={prefixCls:y.a.string,className:y.a.string,style:y.a.object,name:y.a.string,type:y.a.string,defaultChecked:y.a.oneOfType([y.a.number,y.a.bool]),checked:y.a.oneOfType([y.a.number,y.a.bool]),disabled:y.a.bool,onFocus:y.a.func,onBlur:y.a.func,onChange:y.a.func,onClick:y.a.func,tabIndex:y.a.string,readOnly:y.a.bool},x.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}};var P=function(){var e=this;this.handleChange=function(n){var t=e.props;t.disabled||("checked"in t||e.setState({checked:n.target.checked}),t.onChange({target:r()({},t,{checked:n.target.checked}),stopPropagation:function(){n.stopPropagation()},preventDefault:function(){n.preventDefault()}}))}};n.a=x},768:function(e,n,t){function o(e,n,t){return!r(e.props,n)||!r(e.state,t)}var r=t(769),a={shouldComponentUpdate:function(e,n){return o(this,e,n)}};e.exports=a},769:function(e,n,t){"use strict";var o=t(770);e.exports=function(e,n,t,r){var a=t?t.call(r,e,n):void 0;if(void 0!==a)return!!a;if(e===n)return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var c=o(e),l=o(n),i=c.length;if(i!==l.length)return!1;r=r||null;for(var u=Object.prototype.hasOwnProperty.bind(n),f=0;f<i;f++){var d=c[f];if(!u(d))return!1;var s=e[d],p=n[d],h=t?t.call(r,s,p,d):void 0;if(!1===h||void 0===h&&s!==p)return!1}return!0}},770:function(e,n,t){function o(e){return null!=e&&a(v(e))}function r(e,n){return e="number"==typeof e||s.test(e)?+e:-1,n=null==n?m:n,e>-1&&e%1==0&&e<n}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=m}function c(e){for(var n=i(e),t=n.length,o=t&&e.length,c=!!o&&a(o)&&(d(e)||f(e)),l=-1,u=[];++l<t;){var s=n[l];(c&&r(s,o)||h.call(e,s))&&u.push(s)}return u}function l(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function i(e){if(null==e)return[];l(e)||(e=Object(e));var n=e.length;n=n&&a(n)&&(d(e)||f(e))&&n||0;for(var t=e.constructor,o=-1,c="function"==typeof t&&t.prototype===e,i=Array(n),u=n>0;++o<n;)i[o]=o+"";for(var s in e)u&&r(s,n)||"constructor"==s&&(c||!h.call(e,s))||i.push(s);return i}var u=t(771),f=t(123),d=t(217),s=/^\d+$/,p=Object.prototype,h=p.hasOwnProperty,b=u(Object,"keys"),m=9007199254740991,v=function(e){return function(n){return null==n?void 0:n[e]}}("length"),g=b?function(e){var n=null==e?void 0:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&o(e)?c(e):l(e)?b(e):[]}:c;e.exports=g},771:function(e,n){function t(e){return!!e&&"object"==typeof e}function o(e,n){var t=null==e?void 0:e[n];return c(t)?t:void 0}function r(e){return a(e)&&s.call(e)==l}function a(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function c(e){return null!=e&&(r(e)?p.test(f.call(e)):t(e)&&i.test(e))}var l="[object Function]",i=/^\[object .+?Constructor\]$/,u=Object.prototype,f=Function.prototype.toString,d=u.hasOwnProperty,s=u.toString,p=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=o},772:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var n=null,t=!1;return m.default.Children.forEach(e,function(e){e&&e.props&&e.props.checked&&(n=e.props.value,t=!0)}),t?{value:n}:void 0}Object.defineProperty(n,"__esModule",{value:!0});var a=t(37),c=o(a),l=t(7),i=o(l),u=t(10),f=o(u),d=t(8),s=o(d),p=t(9),h=o(p),b=t(2),m=o(b),v=t(6),g=o(v),E=t(24),y=o(E),C=t(760),w=o(C),_=t(757),k=o(_),x=function(e){function n(e){(0,i.default)(this,n);var t=(0,s.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onRadioChange=function(e){var n=t.state.value,o=e.target.value;"value"in t.props||t.setState({value:o});var r=t.props.onChange;r&&o!==n&&r(e)};var o=void 0;if("value"in e)o=e.value;else if("defaultValue"in e)o=e.defaultValue;else{var a=r(e.children);o=a&&a.value}return t.state={value:o},t}return(0,h.default)(n,e),(0,f.default)(n,[{key:"getChildContext",value:function(){return{radioGroup:{onChange:this.onRadioChange,value:this.state.value,disabled:this.props.disabled}}}},{key:"componentWillReceiveProps",value:function(e){if("value"in e)this.setState({value:e.value});else{var n=r(e.children);n&&this.setState({value:n.value})}}},{key:"shouldComponentUpdate",value:function(e,n){return!(0,w.default)(this.props,e)||!(0,w.default)(this.state,n)}},{key:"render",value:function(){var e=this,n=this.props,t=n.prefixCls,o=void 0===t?"ant-radio-group":t,r=n.className,a=void 0===r?"":r,l=(0,y.default)(o,(0,c.default)({},o+"-"+n.size,n.size),a),i=n.children;return n.options&&n.options.length>0&&(i=n.options.map(function(n,t){return"string"==typeof n?m.default.createElement(k.default,{key:t,disabled:e.props.disabled,value:n,onChange:e.onRadioChange,checked:e.state.value===n},n):m.default.createElement(k.default,{key:t,disabled:n.disabled||e.props.disabled,value:n.value,onChange:e.onRadioChange,checked:e.state.value===n.value},n.label)})),m.default.createElement("div",{className:l,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave},i)}}]),n}(m.default.Component);n.default=x,x.defaultProps={disabled:!1},x.childContextTypes={radioGroup:g.default.any},e.exports=n.default},773:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(14),a=o(r),c=t(7),l=o(c),i=t(10),u=o(i),f=t(8),d=o(f),s=t(9),p=o(s),h=t(2),b=o(h),m=t(6),v=o(m),g=t(757),E=o(g),y=function(e){function n(){return(0,l.default)(this,n),(0,d.default)(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return(0,p.default)(n,e),(0,u.default)(n,[{key:"render",value:function(){var e=(0,a.default)({},this.props);return this.context.radioGroup&&(e.onChange=this.context.radioGroup.onChange,e.checked=this.props.value===this.context.radioGroup.value,e.disabled=this.props.disabled||this.context.radioGroup.disabled),b.default.createElement(E.default,e)}}]),n}(b.default.Component);n.default=y,y.defaultProps={prefixCls:"ant-radio-button"},y.contextTypes={radioGroup:v.default.any},e.exports=n.default},775:function(e,n,t){t(776),e.exports=t(31).Object.keys},776:function(e,n,t){var o=t(200),r=t(122);t(587)("keys",function(){return function(e){return r(o(e))}})},784:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,c=t(16),l=o(c),i=t(7),u=o(i),f=t(10),d=o(f),s=t(8),p=o(s),h=t(9),b=o(h),m=t(765),v=o(m),g=t(2),E=o(g);t(759);var y=v.default.Group,C=(a=r=function(e){function n(){var e,t,o,r;(0,u.default)(this,n);for(var a=arguments.length,c=Array(a),i=0;i<a;i++)c[i]=arguments[i];return t=o=(0,p.default)(this,(e=n.__proto__||(0,l.default)(n)).call.apply(e,[this].concat(c))),o.onChange=function(e){(0,o.props.toParent)({role:e.target.value})},r=t,(0,p.default)(o,r)}return(0,b.default)(n,e),(0,d.default)(n,[{key:"render",value:function(){var e=this.props.role;return E.default.createElement("div",{className:"role"},E.default.createElement(y,{onChange:this.onChange,value:e},E.default.createElement(v.default,{value:"student"},"学生"),E.default.createElement(v.default,{value:"teacher"},"老师")))}}]),n}(E.default.Component),r.defaultProps={toParent:function(){}},a);n.default=C},785:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,c=t(73),l=o(c),i=t(16),u=o(i),f=t(7),d=o(f),s=t(10),p=o(s),h=t(8),b=o(h),m=t(9),v=o(m),g=t(2),E=o(g),y=t(759),C=(o(y),a=r=function(e){function n(){var e,t,o,r;(0,d.default)(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=o=(0,b.default)(this,(e=n.__proto__||(0,u.default)(n)).call.apply(e,[this].concat(c))),o.state={err:!1},o.onChange=function(e){var n=e.target.value,t=o.props.toParent;o.setState({err:!n},function(){return t({username:n},{username:!!n&&!o.state.err})})},r=t,(0,b.default)(o,r)}return(0,v.default)(n,e),(0,p.default)(n,[{key:"render",value:function(){return E.default.createElement("div",{className:"name"},E.default.createElement("input",{type:"text",maxLength:"12",placeholder:"用户名",onChange:this.onChange,autoFocus:!0}),this.state.err?E.default.createElement(l.default,{className:"error",type:"close"}):null)}}]),n}(E.default.Component),r.defaultProps={toParent:function(){}},a);n.default=C},786:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,c=t(73),l=o(c),i=t(16),u=o(i),f=t(7),d=o(f),s=t(10),p=o(s),h=t(8),b=o(h),m=t(9),v=o(m),g=t(2),E=o(g),y=t(759),C=(o(y),a=r=function(e){function n(){var e,t,o,r;(0,d.default)(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=o=(0,b.default)(this,(e=n.__proto__||(0,u.default)(n)).call.apply(e,[this].concat(c))),o.state={err:!1,passwordShow:!1},o.onChange=function(e){var n=e.target.value,t=o.props,r=t.toParent,a=t.type;o.setState({err:n.length<6},function(){return"password"===a?r({password:n},{password:!!n&&!o.state.err}):r({newPassword:n},{newPassword:!!n&&!o.state.err})})},r=t,(0,b.default)(o,r)}return(0,v.default)(n,e),(0,p.default)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.err,o=n.passwordShow,r=this.props.placeholder;return E.default.createElement("div",{className:"password"},E.default.createElement("input",{type:o?"text":"password",maxLength:"14",placeholder:r,onChange:this.onChange}),t?E.default.createElement(l.default,{className:"password-error error",type:"close"}):null,E.default.createElement(l.default,{type:"eye",onClick:function(){return e.setState(function(e){return{passwordShow:!e.passwordShow}})},className:o?"blue":"gray"}))}}]),n}(E.default.Component),r.defaultProps={toParent:function(){},placeholder:"密码",type:"password"},a);n.default=C},818:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a,c=t(213),l=o(c),i=t(73),u=o(i),f=t(212),d=o(f),s=t(16),p=o(s),h=t(7),b=o(h),m=t(10),v=o(m),g=t(8),E=o(g),y=t(9),C=o(y),w=t(2),_=o(w),k=t(26),x=t(121),P=o(x),O=t(759),j=(o(O),a=r=function(e){function n(){var e,t,o,r;(0,b.default)(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=o=(0,E.default)(this,(e=n.__proto__||(0,p.default)(n)).call.apply(e,[this].concat(c))),o.state={err:!1,countdown:60},o.getCode=function(){var e=o.props,n=e.actions,t=e.email,r=e.role,a=e.username,c=e.type,l={username:a,email:t};"password"===c?"student"===r?n.studentChangePWEmailCode(l).then(function(e){return i(e)}):n.teacherChangePWEmailCode(l).then(function(e){return i(e)}):"student"===r?n.studentEmailCode(l).then(function(e){return i(e)}):n.teacherEmailCode(l).then(function(e){return i(e)});var i=function(e){var n=e.payload,t=n.ifSuccess,r=n.msg;if(t){d.default.destroy(),d.default.info("验证码已发送到您的邮箱，请您注意查收");var a=function(){o.setState(function(e){return 0===e.countdown?(clearInterval(o.timer),{countdown:60}):{countdown:--e.countdown}})};a(),o.timer=setInterval(a,1e3)}else d.default.destroy(),d.default.error(r)}},o.onChange=function(e){var n=e.target.value,t=o.props.toParent;o.setState({err:n.length<4},function(){return t({verifyCode:n},{verifyCode:!!n&&!o.state.err})})},r=t,(0,E.default)(o,r)}return(0,C.default)(n,e),(0,v.default)(n,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,n=e.err,t=e.countdown,o=this.props.height?"mail-code height":"mail-code";return _.default.createElement("div",{className:o},_.default.createElement("input",{type:"text",maxLength:"4",placeholder:"验证码",onChange:this.onChange}),n?_.default.createElement(u.default,{className:"mail-code-error error",type:"close"}):null,60===t?_.default.createElement(l.default,{type:"primary",onClick:this.getCode},"获取验证码"):_.default.createElement(l.default,{type:"dashed"},t,"秒后可重发"))}}]),n}(_.default.Component),r.defaultProps={toParent:function(){}},a);n.default=(0,k.connect)(function(e){return e.login},P.default)(j)},819:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,c=t(73),l=o(c),i=t(16),u=o(i),f=t(7),d=o(f),s=t(10),p=o(s),h=t(8),b=o(h),m=t(9),v=o(m),g=t(2),E=o(g),y=t(759),C=(o(y),a=r=function(e){function n(){var e,t,o,r;(0,d.default)(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=o=(0,b.default)(this,(e=n.__proto__||(0,u.default)(n)).call.apply(e,[this].concat(c))),o.state={err:!1},o.onChange=function(e){var n=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,t=e.target.value,r=o.props.toParent;o.setState({err:!n.test(t)},function(){return r({email:t},{email:!!t&&!o.state.err})})},r=t,(0,b.default)(o,r)}return(0,v.default)(n,e),(0,p.default)(n,[{key:"render",value:function(){return E.default.createElement("div",{className:"mail"},E.default.createElement("input",{type:"text",maxLength:"20",placeholder:"邮箱",onChange:this.onChange}),this.state.err?E.default.createElement(l.default,{className:"error",type:"close"}):null)}}]),n}(E.default.Component),r.defaultProps={toParent:function(){}},a);n.default=C},946:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(213),a=o(r),c=t(212),l=o(c),i=t(14),u=o(i),f=t(754),d=o(f),s=t(16),p=o(s),h=t(7),b=o(h),m=t(10),v=o(m),g=t(8),E=o(g),y=t(9),C=o(y),w=t(2),k=o(w),x=t(38),P=t(26),O=t(121),j=o(O),S=t(784),M=o(S),N=t(785),A=o(N),F=t(948),B=o(F),I=t(786),D=o(I),z=t(586),G=o(z),W=function(e){function n(){var e,t,o,r;(0,b.default)(this,n);for(var a=arguments.length,c=Array(a),i=0;i<a;i++)c[i]=arguments[i];return t=o=(0,E.default)(this,(e=n.__proto__||(0,p.default)(n)).call.apply(e,[this].concat(c))),o.state={form:{username:"",password:"",verifyCode:""},success:{username:!1,password:!1,verifyCode:!1},role:"student",loading:!1},o.toParent=function(e,n){"role"!==(0,d.default)(e)[0]?o.setState({form:(0,u.default)({},o.state.form,e),success:(0,u.default)({},o.state.success,n)}):o.setState((0,u.default)({},o.state,e))},o.upForm=function(){var e=o.state,n=e.form,t=e.success,r=e.role;if(_.findKey(t,function(e){return!1===e}))l.default.destroy(),l.default.error("请正确填写个人信息");else{o.setState({loading:!0});var a=o.props,c=a.actions,i=c.studentLogin,u=c.teacherLogin,f=a.data,d=f.login.captchaCode;("student"===r?i:u)({form:n,captchaCode:d}).then(function(e){var n=e.payload,t=n.ifSuccess,r=n.data;if(t){var a=r.completed,c=a?"/dist":"/user/info",l=a?"登录成功, 即将前往首页":"登录成功,未填写个人信息,前往填写个人信息";(0,P.jump)(c,l)}else o.setState({loading:!1})})}},o.onChange=function(e){o.setState({role:e.target.value})},o.onKeyUp=function(e){13===e.keyCode&&o.upForm()},r=t,(0,E.default)(o,r)}return(0,C.default)(n,e),(0,v.default)(n,[{key:"componentWillUnmount",value:function(){l.default.destroy()}},{key:"render",value:function(){var e=this.state,n=e.role,t=e.loading,o=e.success,r=o.username,c=o.password,l=r&&c;return k.default.createElement("div",{className:G.default.loginIn,onKeyUp:this.onKeyUp},k.default.createElement("h1",null,"登录校园威客"),k.default.createElement("form",null,k.default.createElement(M.default,{role:n,toParent:this.toParent}),k.default.createElement(A.default,{toParent:this.toParent}),k.default.createElement(D.default,{toParent:this.toParent}),k.default.createElement(B.default,{height:l,toParent:this.toParent}),k.default.createElement("div",{className:G.default.button},k.default.createElement(a.default,{loading:t,type:"primary",onClick:this.upForm},"登录"))),k.default.createElement("span",null,k.default.createElement(x.Link,{to:"/login/changePW"},"忘记密码?"),k.default.createElement(x.Link,{to:"/login/register"},"去注册")))}}]),n}(k.default.Component);n.default=(0,P.connect)(function(e){return e},j.default)(W)},947:function(e,n,t){n=e.exports=t(746)(void 0),n.push([e.i,'@font-face {\n  font-family: "iconfont";\n  src: url('+t(745)+");\n  /* IE9*/\n  src: url("+t(745)+"#iefix) format('embedded-opentype'),  url("+t(747)+") format('woff'),  url("+t(748)+") format('truetype'),  url("+t(749)+'#iconfont) format(\'svg\');\n  /* iOS 4.1- */\n}\n.iconfont {\n  font-family: "iconfont" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.icon-address-book-o:before {\n  content: "\\E601";\n}\n.icon-address-card:before {\n  content: "\\E602";\n}\n.icon-address-book:before {\n  content: "\\E603";\n}\n.icon-adjust:before {\n  content: "\\E604";\n}\n.icon-address-card-o:before {\n  content: "\\E605";\n}\n.icon-align-center:before {\n  content: "\\E606";\n}\n.icon-adn:before {\n  content: "\\E607";\n}\n.icon-align-left:before {\n  content: "\\E608";\n}\n.icon-align-right:before {\n  content: "\\E609";\n}\n.icon-align-justify:before {\n  content: "\\E60A";\n}\n.icon-anchor:before {\n  content: "\\E60B";\n}\n.icon-american-sign-language-interpreting:before {\n  content: "\\E60C";\n}\n.icon-angle-double-down:before {\n  content: "\\E60D";\n}\n.icon-angellist:before {\n  content: "\\E60E";\n}\n.icon-angle-double-left:before {\n  content: "\\E60F";\n}\n.icon-angle-double-right:before {\n  content: "\\E610";\n}\n.icon-angle-double-up:before {\n  content: "\\E611";\n}\n.icon-angle-down:before {\n  content: "\\E612";\n}\n.icon-angle-right:before {\n  content: "\\E613";\n}\n.icon-angle-left:before {\n  content: "\\E614";\n}\n.icon-angle-up:before {\n  content: "\\E615";\n}\n.icon-archive:before {\n  content: "\\E616";\n}\n.icon-arrow-circle-down:before {\n  content: "\\E617";\n}\n.icon-arrow-circle-o-down:before {\n  content: "\\E618";\n}\n.icon-arrow-circle-o-right:before {\n  content: "\\E619";\n}\n.icon-arrow-circle-o-up:before {\n  content: "\\E61A";\n}\n.icon-arrow-circle-o-left:before {\n  content: "\\E61B";\n}\n.icon-arrow-circle-right:before {\n  content: "\\E61C";\n}\n.icon-arrow-down:before {\n  content: "\\E61D";\n}\n.icon-arrow-circle-up:before {\n  content: "\\E61E";\n}\n.icon-arrow-left:before {\n  content: "\\E61F";\n}\n.icon-arrow-circle-left:before {\n  content: "\\E620";\n}\n.icon-arrow-right:before {\n  content: "\\E621";\n}\n.icon-arrow-up:before {\n  content: "\\E622";\n}\n.icon-arrows-h:before {\n  content: "\\E623";\n}\n.icon-arrows-alt:before {\n  content: "\\E624";\n}\n.icon-arrows-v:before {\n  content: "\\E625";\n}\n.icon-asterisk:before {\n  content: "\\E626";\n}\n.icon-at:before {\n  content: "\\E627";\n}\n.icon-audio-description:before {\n  content: "\\E628";\n}\n.icon-ban:before {\n  content: "\\E629";\n}\n.icon-bandcamp:before {\n  content: "\\E62A";\n}\n.icon-bank:before {\n  content: "\\E62B";\n}\n.icon-bars:before {\n  content: "\\E62C";\n}\n.icon-battery-:before {\n  content: "\\E62D";\n}\n.icon-barcode:before {\n  content: "\\E62E";\n}\n.icon-battery-1:before {\n  content: "\\E62F";\n}\n.icon-battery:before {\n  content: "\\E630";\n}\n.icon-beer:before {\n  content: "\\E631";\n}\n.icon-bell-o:before {\n  content: "\\E632";\n}\n.icon-bell-slash-o:before {\n  content: "\\E633";\n}\n.icon-bell-slash:before {\n  content: "\\E634";\n}\n.icon-bell:before {\n  content: "\\E635";\n}\n.icon-bicycle:before {\n  content: "\\E636";\n}\n.icon-blind:before {\n  content: "\\E637";\n}\n.icon-bold:before {\n  content: "\\E638";\n}\n.icon-bolt:before {\n  content: "\\E639";\n}\n.icon-bomb:before {\n  content: "\\E63A";\n}\n.icon-bookmark-o:before {\n  content: "\\E63B";\n}\n.icon-bookmark:before {\n  content: "\\E63C";\n}\n.icon-book:before {\n  content: "\\E63D";\n}\n.icon-briefcase:before {\n  content: "\\E63E";\n}\n.icon-bus:before {\n  content: "\\E63F";\n}\n.icon-bullhorn:before {\n  content: "\\E640";\n}\n.icon-calculator:before {\n  content: "\\E641";\n}\n.icon-calendar-check-o:before {\n  content: "\\E642";\n}\n.icon-calendar-plus-o:before {\n  content: "\\E643";\n}\n.icon-camera-retro:before {\n  content: "\\E644";\n}\n.icon-calendar:before {\n  content: "\\E645";\n}\n.icon-caret-down:before {\n  content: "\\E646";\n}\n.icon-camera:before {\n  content: "\\E647";\n}\n.icon-caret-left:before {\n  content: "\\E648";\n}\n.icon-caret-right:before {\n  content: "\\E649";\n}\n.icon-caret-square-o-left:before {\n  content: "\\E64A";\n}\n.icon-caret-square-o-right:before {\n  content: "\\E64B";\n}\n.icon-caret-square-o-down:before {\n  content: "\\E64C";\n}\n.icon-caret-square-o-up:before {\n  content: "\\E64D";\n}\n.icon-caret-up:before {\n  content: "\\E64E";\n}\n.icon-chain:before {\n  content: "\\E64F";\n}\n.icon-check-circle-o:before {\n  content: "\\E650";\n}\n.icon-chain-broken:before {\n  content: "\\E651";\n}\n.icon-check-square:before {\n  content: "\\E652";\n}\n.icon-check-square-o:before {\n  content: "\\E653";\n}\n.icon-check-circle:before {\n  content: "\\E654";\n}\n.icon-check:before {\n  content: "\\E655";\n}\n.icon-chevron-circle-down:before {\n  content: "\\E656";\n}\n.icon-chevron-circle-left:before {\n  content: "\\E657";\n}\n.icon-chevron-circle-up:before {\n  content: "\\E658";\n}\n.icon-chevron-down:before {\n  content: "\\E659";\n}\n.icon-chevron-circle-right:before {\n  content: "\\E65A";\n}\n.icon-chevron-left:before {\n  content: "\\E65B";\n}\n.icon-chevron-right:before {\n  content: "\\E65C";\n}\n.icon-chevron-up:before {\n  content: "\\E65D";\n}\n.icon-chrome:before {\n  content: "\\E65E";\n}\n.icon-child:before {\n  content: "\\E65F";\n}\n.icon-circle-o-notch:before {\n  content: "\\E660";\n}\n.icon-clock-o:before {\n  content: "\\E661";\n}\n.icon-close:before {\n  content: "\\E662";\n}\n.icon-cloud-download:before {\n  content: "\\E663";\n}\n.icon-cog:before {\n  content: "\\E664";\n}\n.icon-comment:before {\n  content: "\\E665";\n}\n.icon-comment-o:before {\n  content: "\\E666";\n}\n.icon-cogs:before {\n  content: "\\E667";\n}\n.icon-commenting-o:before {\n  content: "\\E668";\n}\n.icon-commenting:before {\n  content: "\\E669";\n}\n.icon-comments-o:before {\n  content: "\\E66A";\n}\n.icon-comments:before {\n  content: "\\E66B";\n}\n.icon-cut:before {\n  content: "\\E66C";\n}\n.icon-drivers-license-o:before {\n  content: "\\E66F";\n}\n.icon-drupal:before {\n  content: "\\E671";\n}\n.icon-eercast:before {\n  content: "\\E673";\n}\n.icon-envelope-open-o:before {\n  content: "\\E676";\n}\n.icon-edit:before {\n  content: "\\E672";\n}\n.icon-envelope-square:before {\n  content: "\\E678";\n}\n.icon-envira:before {\n  content: "\\E67A";\n}\n.icon-eye:before {\n  content: "\\E680";\n}\n.icon-female:before {\n  content: "\\E688";\n}\n.icon-file-image-o:before {\n  content: "\\E68A";\n}\n.icon-file-text-o:before {\n  content: "\\E68C";\n}\n.icon-file-text:before {\n  content: "\\E68D";\n}\n.icon-frown-o:before {\n  content: "\\E69C";\n}\n.icon-hand-peace-o:before {\n  content: "\\E6AF";\n}\n.icon-heart:before {\n  content: "\\E6B3";\n}\n.icon-heart-o:before {\n  content: "\\E6B4";\n}\n.icon-history:before {\n  content: "\\E6B6";\n}\n.icon-home:before {\n  content: "\\E6B7";\n}\n.icon-leaf:before {\n  content: "\\E6C9";\n}\n.icon-lemon-o:before {\n  content: "\\E6CA";\n}\n.icon-list-ul:before {\n  content: "\\E6CF";\n}\n.icon-list-ol:before {\n  content: "\\E6D0";\n}\n.icon-list:before {\n  content: "\\E6D1";\n}\n.icon-location-arrow:before {\n  content: "\\E6D2";\n}\n.icon-lock:before {\n  content: "\\E6D3";\n}\n.icon-low-vision:before {\n  content: "\\E6D4";\n}\n.icon-male:before {\n  content: "\\E6D6";\n}\n.icon-map-marker:before {\n  content: "\\E6D7";\n}\n.icon-mail-reply:before {\n  content: "\\E6D8";\n}\n.icon-medium:before {\n  content: "\\E6DC";\n}\n.icon-modx:before {\n  content: "\\E6E3";\n}\n.icon-moon-o:before {\n  content: "\\E6E4";\n}\n.icon-music:before {\n  content: "\\E6E5";\n}\n.icon-mouse-pointer:before {\n  content: "\\E6E6";\n}\n.icon-paper-plane-o:before {\n  content: "\\E6EA";\n}\n.icon-paper-plane:before {\n  content: "\\E6EB";\n}\n.icon-qq:before {\n  content: "\\E6FD";\n}\n.icon-question:before {\n  content: "\\E6FE";\n}\n.icon-quote-left:before {\n  content: "\\E6FF";\n}\n.icon-repeat:before {\n  content: "\\E703";\n}\n.icon-star-o:before {\n  content: "\\E720";\n}\n.icon-star:before {\n  content: "\\E722";\n}\n.icon-thumbs-o-down:before {\n  content: "\\E73B";\n}\n.icon-thumbs-o-up:before {\n  content: "\\E73C";\n}\n.icon-umbrella:before {\n  content: "\\E74A";\n}\n.icon-twitch:before {\n  content: "\\E748";\n}\n.icon-unlock-alt:before {\n  content: "\\E74C";\n}\n.icon-unlock:before {\n  content: "\\E74D";\n}\n.icon-user-circle:before {\n  content: "\\E74F";\n}\n.icon-user-circle-o:before {\n  content: "\\E750";\n}\n.icon-user-md:before {\n  content: "\\E751";\n}\n.icon-user-o:before {\n  content: "\\E752";\n}\n.icon-user:before {\n  content: "\\E753";\n}\n.icon-user-plus:before {\n  content: "\\E754";\n}\n.icon-wechat:before {\n  content: "\\E759";\n}\n.icon-wrench:before {\n  content: "\\E760";\n}\n::-moz-placeholder {\n  color: rgba(0, 0, 0, 0.25);\n  opacity: 1;\n}\n:-ms-input-placeholder {\n  color: rgba(0, 0, 0, 0.25);\n}\n::-webkit-input-placeholder {\n  color: rgba(0, 0, 0, 0.25);\n}\n::-webkit-input-placeholder {\n  opacity: 1;\n}\nbody {\n  overflow-x: hidden;\n  background-color: #f5f5f5;\n}\nbody .ant-spin {\n  width: 100%;\n}\n#root {\n  padding-bottom: 100px;\n}\n.clearfix::after {\n  display: block;\n  content: "";\n  clear: both;\n}\n.loading {\n  position: absolute;\n  top: 30%;\n  left: 50%;\n}\n.gray {\n  color: #d9d9d9;\n}\n.white {\n  color: #ffffff;\n}\n.blue {\n  color: #108ee9;\n}\n.red {\n  color: #d73435 !important;\n}\n.background-red {\n  background-color: #f46e65;\n}\n.background-white {\n  background-color: #f7f7f7;\n}\n.background-select {\n  background-color: #ecf6fd;\n}\n.background-hover:hover {\n  background-color: #ecf6fd !important;\n}\n.yellow {\n  color: #f56a00;\n}\n.green {\n  color: #3dbd7d;\n}\n.content {\n  margin-top: 50px;\n}\n.show {\n  display: inline-block;\n}\n.hide {\n  opacity: 0;\n}\n.container {\n  margin: 0 auto;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n@media (max-width: 1400px) {\n  .container {\n    width: 1000px;\n  }\n}\n@media (min-width: 1400px) {\n  .container {\n    width: 1100px;\n  }\n}\n.reset {\n  width: 100%;\n}\na {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\na:focus {\n  outline: none;\n}\na:link {\n  text-decoration: none;\n}\na:visited {\n  text-decoration: none;\n}\na:hover {\n  text-decoration: none;\n}\na:active {\n  text-decoration: none;\n}\n.name, .mail, .mail-code, .img-code, .password {\n  position: relative;\n  overflow: hidden;\n  border-bottom: 1px solid #eaeaea;\n}\n.name input, .mail input, .mail-code input, .img-code input, .password input {\n  width: 100%;\n  padding: 15px 10px;\n  line-height: 20px;\n  font-size: 14px;\n  border: none;\n  outline: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.error {\n  position: absolute;\n  right: 15px;\n  top: 16px;\n  font-size: 20px;\n  color: #d73435;\n}\n.height {\n  height: 50px !important;\n  border-bottom: 1px solid #eaeaea !important;\n}\n.mail-code {\n  height: 0;\n  -webkit-transition: height .5s;\n  transition: height .5s;\n  border-bottom: none;\n}\n.mail-code input {\n  width: 160px;\n}\n.mail-code button {\n  min-width: 100px;\n  margin-right: 10px;\n}\n.mail-code .mail-code-error {\n  right: 120px;\n}\n.img-code {\n  height: 0;\n  border-bottom: none;\n  -webkit-transition: height .5s;\n  transition: height .5s;\n}\n.img-code input {\n  width: 180px;\n}\n.img-code img, .img-code .loading {\n  display: inline-block;\n  width: 80px;\n  height: 30px;\n  color: #108ee9;\n  vertical-align: middle;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.img-code .loading {\n  position: absolute;\n  border: 1px dashed #d9d9d9;\n  line-height: 26px;\n  right: 0;\n  top: 10px;\n}\n.img-code .img-code-error {\n  right: 100px;\n}\n.password input {\n  width: 240px;\n}\n.password i {\n  font-size: 20px;\n  cursor: pointer;\n  vertical-align: middle;\n}\n.password .password-error {\n  right: 40px;\n}\n.role {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #eaeaea;\n}\n.role > div {\n  width: 100%;\n  border: none;\n}\n.role label {\n  width: 50%;\n  margin: 0;\n  text-align: center;\n}\n.role label:first-child {\n  border-right: 1px solid #eaeaea;\n}\n',""])},948:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a,c=t(73),l=o(c),i=t(16),u=o(i),f=t(7),d=o(f),s=t(10),p=o(s),h=t(8),b=o(h),m=t(9),v=o(m),g=t(2),E=o(g),y=t(121),C=o(y),w=t(26),_=t(759),k=(o(_),a=r=function(e){function n(){var e,t,o,r;(0,d.default)(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=o=(0,b.default)(this,(e=n.__proto__||(0,u.default)(n)).call.apply(e,[this].concat(c))),o.state={err:!1},o.getImgCode=function(){o.props.actions.getImgCode()},o.onChange=function(e){var n=e.target.value,t=o.props.toParent;o.setState({err:n.length<5},function(){return t({verifyCode:n},{verifyCode:!!n&&!o.state.err})})},r=t,(0,b.default)(o,r)}return(0,v.default)(n,e),(0,p.default)(n,[{key:"componentWillMount",value:function(){this.getImgCode()}},{key:"render",value:function(){var e=this.props.data.login.msg,n=this.props.height?"img-code height":"img-code";return E.default.createElement("div",{className:n},E.default.createElement("input",{type:"text",maxLength:"5",placeholder:"验证码",onChange:this.onChange}),this.state.err?E.default.createElement(l.default,{className:"img-code-error error",type:"close"}):null,e?E.default.createElement("img",{onClick:this.getImgCode,src:"data:image/jpg;base64,"+e}):E.default.createElement(l.default,{type:"loading",className:"loading"}))}}]),n}(E.default.Component),r.defaultProps={toParent:function(){}},a);n.default=(0,w.connect)(function(e){return e},C.default)(k)},949:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(213),a=o(r),c=t(212),l=o(c),i=t(14),u=o(i),f=t(754),d=o(f),s=t(16),p=o(s),h=t(7),b=o(h),m=t(10),v=o(m),g=t(8),E=o(g),y=t(9),C=o(y),w=t(2),_=o(w),k=t(38),x=t(60),P=o(x),O=t(26),j=t(121),S=o(j),M=t(784),N=o(M),A=t(785),F=o(A),B=t(786),I=o(B),D=t(818),z=o(D),G=t(819),W=o(G),L=t(586),q=o(L),U=function(e){function n(){var e,t,o,r;(0,b.default)(this,n);for(var a=arguments.length,c=Array(a),i=0;i<a;i++)c[i]=arguments[i];return t=o=(0,E.default)(this,(e=n.__proto__||(0,p.default)(n)).call.apply(e,[this].concat(c))),o.state={form:{username:"",email:"",verifyCode:"",password:""},success:{username:!1,email:!1,verifyCode:!1,password:!1},role:"student",loading:!1},o.toParent=function(e,n){"role"!==(0,d.default)(e)[0]?o.setState({form:(0,u.default)({},o.state.form,e),success:(0,u.default)({},o.state.success,n)}):o.setState((0,u.default)({},o.state,e))},o.upForm=function(){var e=o.state,n=e.form,t=n.username,r=n.password,a=n.verifyCode,c=n.email,i=e.success,u=e.role;if(P.default.findKey(i,function(e){return!1===e}))l.default.destroy(),l.default.error("请正确填写个人信息");else{var f=o.props.actions;if(o.setState({loading:!0}),"student"===u){var d={username:t,password:r,email:c},s={verifyCode:a,studentInfo:d};f.studentRegister(s).then(function(e){e.payload.ifSuccess?(l.default.success("注册成功请登录"),k.hashHistory.push("/login/loginIn")):o.setState({loading:!1})})}else{var p={username:t,password:r,email:c},h={verifyCode:a,teacherInfo:p};f.teacherRegister(h).then(function(e){e.payload.ifSuccess?(0,O.jump)("/login/loginIn","注册成功请登录"):o.setState({loading:!1})})}}},r=t,(0,E.default)(o,r)}return(0,C.default)(n,e),(0,v.default)(n,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer),l.default.destroy()}},{key:"render",value:function(){var e=this.state,n=e.form,t=e.success,o=e.role,r=e.loading;return _.default.createElement("div",{className:q.default.register},_.default.createElement("h1",null,"欢迎来到校园威客"),_.default.createElement("form",null,_.default.createElement(N.default,{role:o,toParent:this.toParent}),_.default.createElement(F.default,{toParent:this.toParent}),_.default.createElement(W.default,{toParent:this.toParent}),_.default.createElement(z.default,{role:n.role,username:n.username,email:n.email,toParent:this.toParent,height:t.email&&t.username}),_.default.createElement(I.default,{toParent:this.toParent}),_.default.createElement("div",{className:q.default.button},_.default.createElement(a.default,{loading:r,type:"primary",htmlType:"submit",onClick:this.upForm},"注册"))),_.default.createElement("span",null,_.default.createElement(k.Link,{to:"/login/loginIn"},"已有账号？去登录")))}}]),n}(_.default.Component);n.default=(0,O.connect)(function(e){return e.login},S.default)(U)},950:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(213),a=o(r),c=t(212),l=o(c),i=t(14),u=o(i),f=t(754),d=o(f),s=t(16),p=o(s),h=t(7),b=o(h),m=t(10),v=o(m),g=t(8),E=o(g),y=t(9),C=o(y),w=t(2),_=o(w),k=t(60),x=o(k),P=t(784),O=o(P),j=t(785),S=o(j),M=t(819),N=o(M),A=t(818),F=o(A),B=t(786),I=o(B),D=t(26),z=t(121),G=o(z),W=t(586),L=o(W),q=function(e){function n(){var e,t,o,r;(0,b.default)(this,n);for(var a=arguments.length,c=Array(a),i=0;i<a;i++)c[i]=arguments[i];return t=o=(0,E.default)(this,(e=n.__proto__||(0,p.default)(n)).call.apply(e,[this].concat(c))),o.state={form:{username:"",email:"",verifyCode:"",password:"",newPassword:""},success:{username:!1,email:!1,verifyCode:!1,password:!1,newPassword:!1},role:"student",loading:!1},o.toParent=function(e,n){"role"!==(0,d.default)(e)[0]?o.setState({form:(0,u.default)({},o.state.form,e),success:(0,u.default)({},o.state.success,n)}):o.setState((0,u.default)({},o.state,e))},o.upPW=function(){var e=o.state,n=e.form,t=n.password,r=n.newPassword,a=n.username,c=n.verifyCode,i=e.success,u=e.role;if(x.default.filter(i,function(e){return!1===e}).length)l.default.destroy(),l.default.error("请正确填写个人信息");else if(t===r){o.setState({loading:!0});var f=o.props.actions,d=f.studentChangePW,s=f.teacherChangePW,p={password:t,username:a,verifyCode:c},h="student"===u?d:s;h(p).then(function(e){var n=e.payload,t=n.ifSuccess,r=n.msg;t?(0,D.jump)("/login/loginIn","修改密码成功，前往登录"):(o.setState({loading:!1}),l.default.destroy(),l.default.error(r))})}else l.default.destroy(),l.default.error("两次密码必须相同")},r=t,(0,E.default)(o,r)}return(0,C.default)(n,e),(0,v.default)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.form,o=n.success,r=o.username,c=o.email,l=o.verifyCode,i=n.role,u=n.loading,f=r&&c&&l?{height:"120px"}:{height:"0",overflow:"hidden"};return _.default.createElement("div",{className:L.default.changePW},_.default.createElement("h1",null,"修改密码"),_.default.createElement("form",null,_.default.createElement(O.default,{role:i,toParent:this.toParent}),_.default.createElement(S.default,{toParent:this.toParent}),_.default.createElement(N.default,{toParent:this.toParent}),_.default.createElement(F.default,{role:i,username:t.username,email:t.email,toParent:this.toParent,height:c&&r,type:"password"}),_.default.createElement("div",{style:f},_.default.createElement(I.default,{placeholder:"新密码",type:"password",ref:function(n){return e.password=n},toParent:this.toParent}),_.default.createElement(I.default,{type:"newPassword",ref:function(n){return e.newPassword=n},placeholder:"确认密码",toParent:this.toParent})),_.default.createElement("div",{className:L.default.button},_.default.createElement(a.default,{loading:u,type:"primary",htmlType:"submit",onClick:this.upPW},"提交"))))}}]),n}(_.default.Component);n.default=(0,D.connect)(function(e){return e.login},G.default)(q)}});